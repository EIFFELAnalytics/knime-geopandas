<?xml version="1.0" encoding="UTF-8"?>
<config xmlns="http://www.knime.org/2008/09/XMLConfig" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.knime.org/2008/09/XMLConfig http://www.knime.org/XMLConfig_2008_09.xsd" key="Read Shapefile__939570741615847207.xml">
<entry key="category" type="xstring" value="IO"/>
<entry key="title" type="xstring" value="Read Shapefile"/>
<entry key="description" type="xstring" value=""/>
<entry key="sourcecode" type="xstring" value="# PARAMETERS%%00010# Gebruik altijd raw strings (r''). Backslash (\) is namelijk de Python escape character.%%00010folder = r'C:/Users/abos/Documents/Open-data/shapefiles/shp-provincie'%%00010filename = r'provincie-grenzen.shp'%%00010%%00010# SOURCE NODE%%00010from os.path import join%%00010import geopandas as gpd%%00010import pandas as pd%%00010from shapely import wkt as WKT%%00010%%00010# Convert geopandas (with geometry column) to pandas (with wkt column)%%00010def gdf_to_df(gdf, **kwargs):%%00010    df = pd.DataFrame(gdf, copy=True)%%00010    df['wkt'] = gdf.geometry.apply(%%00010        lambda wkt: WKT.dumps(wkt, trim=True, rounding_precision=kwargs.get('rounding_precision', -1))%%00010    )%%00010    df.drop(columns='geometry', inplace=True)%%00010    return df%%00010%%00010# Read the file%%00010print('Reading file:', join(folder, filename))%%00010gdf = gpd.read_file( join(folder, filename) )%%00010%%00010# Reproject to coordinate reference system WGS84 (long/lat)%%00010# This HAS to be done here, because we'll lose the CRS when proceeding to the next node%%00010# WGS84 is the official standard for GeoJSON: https://tools.ietf.org/html/rfc7946#section-4%%00010wgs84 = {'init': 'epsg:4326'}%%00010if gdf.crs != wgs84:%%00010    # If there is no CRS in the shapefile reprojecting is not possible%%00010    try:%%00010        print('Reprojecting to WGS84...')%%00010        gdf = gdf.to_crs(wgs84)%%00010    except:%%00010        print('Unable to set WGS84 projection. No initial CRS found in shapefile. Please verify the coordinates manually.')%%00010%%00010# Output%%00010output_table = gdf_to_df(gdf)"/>
</config>
